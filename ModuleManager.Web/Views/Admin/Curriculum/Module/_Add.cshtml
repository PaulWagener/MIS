@using ModuleManager.Domain
@model  ModuleManager.Web.ViewModels.PartialViewModel.ModuleCrudViewModel

<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
    <h4 class="modal-title" id="ModuleAdd">Module toevoegen</h4>
</div>

@using (Html.BeginForm())
{
    <div class="modal-body">
        @Html.AntiForgeryToken()
        @Html.HiddenFor(m => m.Schooljaar)

           <div class="form-group">
            @Html.LabelFor(model => model.CursusCode)
            <table class="form-group-prefix">
                <tr>
                    <td class="prefix">@Html.EditorFor(model => model.OpleidingsPrefix, new { htmlAttributes = new { @class = "form-control" } })</td>
                    <td class="dash" >-</td>
                    <td>@Html.EditorFor(model => model.CursusCode, new { htmlAttributes = new { @class = "form-control" } })</td>
                    
                </tr>
            </table>           
            @Html.ValidationMessageFor(model => model.CursusCode, "", new { @class = "text-danger" })
        </div>
        
        <div class="form-group">
            @Html.LabelFor(model => model.Naam)
            @Html.EditorFor(model => model.Naam, new { htmlAttributes = new { @class = "form-control" }})
            @Html.ValidationMessageFor(model => model.Naam, "", new { @class = "text-danger" })
        </div>
        
        <div class="form-group">
            <label for="Toetscodes">Toetscodes & Studiepunten</label>
            
            <div class="row">
                <div class="col-md-6">
                    <table class="form-group-prefix">
                        <tr>
                            <td>@Html.EditorFor(model => model.Toetscode1Prefix, new { htmlAttributes = new { @class = "form-control" } })</td>
                            <td class="dash">-</td>
                            <td>@Html.EditorFor(model => model.Toetscode1, new { htmlAttributes = new { @class = "form-control", placeholder = "Toetscode 1" } })</td>
                        </tr>
                    </table>    
                    @Html.ValidationMessageFor(model => model.Toetscode1, "", new { @class = "text-danger" })
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(model => model.Ec1, new { htmlAttributes = new { @class = "form-control", type = "number", required = "required", placeholder = "Studiepunten 1" } })
                    @Html.ValidationMessageFor(model => model.Ec1, "", new { @class = "text-danger" })
                </div>
            </div><br />
            <div class="row">
                <div class="col-md-6">
                    <table class="form-group-prefix">
                        <tr>
                            <td>@Html.EditorFor(model => model.Toetscode2Prefix, new { htmlAttributes = new { @class = "form-control" } })</td>
                            <td class="dash">-</td>
                            <td>@Html.EditorFor(model => model.Toetscode2, new { htmlAttributes = new { @class = "form-control", placeholder = "Toetscode 2" } })</td>
                        </tr>
                    </table>
                    @Html.ValidationMessageFor(model => model.Toetscode2, "", new { @class = "text-danger" })
                </div>
                <div class="col-md-6">
                    @Html.EditorFor(model => model.Ec2, new { htmlAttributes = new { @class = "form-control", type = "number", required = "required", placeholder = "Studiepunten 2" } })
                    @Html.ValidationMessageFor(model => model.Ec2, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>
        
        <div class="form-group">
            <label for="VerantwoordelijkeDocentId">Verantwoordelijke</label>
            <select name="VerantwoordelijkeDocentId" class="form-control ajax" id="Blok">
                <option></option>
                @foreach (var docent in Model.Docenten)
                {
                    <option value="@docent.Id">@docent.Naam</option>
                }
            </select>
            @Html.ValidationMessageFor(model => model.VerantwoordelijkeDocentId, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Fases)
            <select name="SelectedFases" class="form-control ajax" id="SelectedFases" multiple>
                <option></option>
                @foreach (var faseType in Model.Fases)
                {
                    <option>@faseType.Naam</option>
                }
            </select>
            @Html.ValidationMessageFor(model => model.SelectedFases, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Blokken)
            <select name="Blok" class="form-control ajax" id="Blok">
                <option></option>
                @foreach (var blok in Model.Blokken)
                {
                    <option>@blok.BlokId</option>
                }
            </select>
            @Html.ValidationMessageFor(model => model.Blok, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Onderdelen)
            <select name="Onderdeel" class="form-control ajax" id="Onderdeel">
                <option></option>
                @foreach (var onderdeel in Model.Onderdelen)
                {
                    <option>@onderdeel.Code</option>
                }
            </select>
            @Html.ValidationMessageFor(model => model.Onderdeel, "", new { @class = "text-danger" })
        </div>

        <div class="row">
            <div class="col-md-10">
                <div class="form-group">
                    <label for="Icon">Icon</label>  
                    <select name="Icon" class="form-control ajax" id="Icon">
                        <option></option>
                        @foreach (var icon in Model.Icons)
                        {
                            <option>@icon.Naam</option>
                        }
                    </select>
                    @Html.ValidationMessageFor(model => model.Icon, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="col-md-2">
                <i id="iconPlaceholder" class="fa fa-3x"></i>
            </div>
        </div>



        </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Annuleren</button>
        <input class="btn btn-success" type="submit" value="Toevoegen" />
    </div>
}

@section Scripts{

    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/modalform")


}

<script>
    $("#SelectedFases").select2({
        placeholder: "Fases"
    });

    $("#CursusCode").on('input',function () {
        $("#Toetscode1Prefix").val($("#CursusCode").val());
        $("#Toetscode2Prefix").val($("#CursusCode").val());
    });

    $("#myModal #Icon").change();
</script>